

<!DOCTYPE html>
<html lang="pt">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Standard Edition 5.7.0.575">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Exemplo de an&aacute;lise baseado em Objetos Monitorados</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Exemplo de an&aacute;lise baseado em Objetos Monitorados">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Exemplo de an&aacute;lise baseado em Objetos Monitorados" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Plataforma de Monitoramento Ambiental TerraMA&sup2;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.3.6/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.2/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.2/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Plataforma de Monitoramento Ambiental TerraMA&sup2;</h1>
    
  </header>

  <nav class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="typical_examples_monitored_obj"
		  data-hnd-context="43"
		  data-hnd-title="Exemplo de análise baseado em Objetos Monitorados"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="administration_module.html">M&oacute;dulo de Administra&ccedil;&atilde;o</a></li><li><a href="projects.html">Projetos</a></li><li><a href="analysis.html">An&aacute;lises</a></li><li><a href="typical_examples.html">Exemplos T&iacute;picos</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group-xs" role="group"><a class="btn btn-default" href="typical_examples.html" title="Exemplos T&iacute;picos" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="typical_examples.html" title="Exemplos T&iacute;picos" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="typical_examples_grid.html" title="Exemplo de an&aacute;lise baseado em Grades" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Exemplo de an&aacute;lise baseado em Objetos Monitorados</h2>

            <div class="main-content">
                
<p></p>
<p class="rvps22"><a class="rvts37" href="Operadores.html#lista_op_obj_monitor">Lista de Operadores sobre obj monitorado</a><span class="rvts36"> &nbsp;</span><img alt="" style="vertical-align: middle; padding : 1px;" src="lib/lista.jpg"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps23"><span class="rvts22">Em geral, análises baseadas em objeto monitorado são realizadas pela sobreposição de dados estáticos vetoriais com um dos três tipos de dados dinâmicos, isto é, grades retangulares, PCD ou ocorrências, que foram coletados, gerados ou apenas disponíveis na base de dados. Resultados de outras análises também podem ser utilizados.</span></p>
<p class="rvps23"><span class="rvts22">A sobreposição dos objetos monitorados com os dados dinâmicos é realizada com uso dos </span><a class="rvts34" href="OperadoressobreObjetosMonitorado.html">operadores geográficos</a><span class="rvts22"> criados exclusivamente para uso na plataforma, juntamente com os recursos que a linguagem de programação Python proporciona.</span></p>
<p class="rvps23"><span class="rvts22">Os resultados desses operadores são armazenados em variáveis locais do Python, que podem ser armazenadas em uma nova tabela de atributos que estará associada a tabela do objeto monitorado. Nessa nova tabela são armazenados ainda a data/hora toda vez que é realizada a análise.</span></p>
<p class="rvps23"><span class="rvts22"><br/></span></p>
<p class="rvps23"><span class="rvts22">A seguir apresentamos um exemplo típico da utilização de análise baseada em objeto monitorado que compara um atributo do objeto com o valor máximo de um dado matricial de chuva (Figura 3.6). Assim, no exemplo abaixo considere o seguinte cenário: </span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 60px; list-style-position: outside; list-style-type: decimal;">
<li value="1" style="margin-left: 0px" class="rvps104"><span class="rvts22">O objeto monitorado selecionado contém um atributo denominado “</span><span class="rvts38">limiar_critico</span><span class="rvts22">” que contém um limite de chuva acumulada nas últimas 24 horas a partir do qual deve ser emitido um alerta para a área.</span></li>
<li value="2" style="margin-left: 0px" class="rvps104"><span class="rvts22">A série de dados “</span><span class="rvts38">hidro_diario</span><span class="rvts22">” contém uma grade com o total de chuva acumulada nas últimas 24 horas.</span></li>
<li value="3" style="margin-left: 0px" class="rvps104"><span class="rvts22">Se a chuva acumulada estiver abaixo do limiar definido para cada objeto, o nível de alerta deve ser 0. Se estiver até 20% acima do limiar, o nível será 1. Chuvas acima de 20% do limiar, o nível será 2.</span></li>
<li value="4" style="margin-left: 0px" class="rvps104"><span class="rvts22">O resultado da análise será armazenado em uma nova tabela de nome “</span><span class="rvts38">tab_an_max</span><span class="rvts22">” que estará associada a tabela do objeto “</span><span class="rvts38">tab_obj</span><span class="rvts22">”.</span></li>
</ol>
<p class="rvps2"><span class="rvts11"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/Fig3_6_web.png"></p>
<p class="rvps3"><span class="rvts11"><br/></span></p>
<p class="rvps38"><a name="docs-internal-guid-2c1d7f3e-ccbf-1180-776f-2c5b900d90b3"></a>
<span class="rvts20">Figura 3.6 – </span><span class="rvts21">Exemplo de análise com objeto monitorado.</span></p>
<p class="rvps9"><span class="rvts18"><br/></span></p>
<p class="rvps9"><span class="rvts18">Para uma melhor compreensão do programa de análise do exemplo, vamos analisá-la por partes.</span></p>
<p class="rvps98"><span class="rvts91">nivel = 0</span></p>
<p class="rvps9"><span class="rvts18">Essa linha define uma nova variável denominada de “</span><span class="rvts19">nivel</span><span class="rvts18">” que será inicializada com o valor 0 (zero). No exemplo, um único objeto (representado por um polígono) está sendo analisado. Caso outros objetos existissem no mapa estático, a variável “nível” seria inicializada em 0 para cada objeto. Em outras palavras, o programa todo é executado para cada objeto.</span></p>
<p class="rvps99"><span class="rvts92"># Cálculo do valor zonal máximo</span></p>
<p class="rvps100"><span class="rvts91">var1 = </span><span class="rvts93">grid.zonal.max</span><span class="rvts91">(</span><span class="rvts94">“hidro_diario”, 0</span><span class="rvts91">)</span></p>
<p class="rvps9"><span class="rvts18">Essa linha define uma nova variável denominada de “</span><span class="rvts19">var1</span><span class="rvts18">” que será inicializada com o valor do operador zonal “</span><span class="rvts19">maximo</span><span class="rvts18">” aplicado à grade “</span><span class="rvts19">hidro_diario</span><span class="rvts18">”. Na prática, estamos buscando qual o valor de chuva acumulada na área em análise a partir da grade. Mais adiante será feita uma discussão maior sobre operadores zonais. Observe que “</span><span class="rvts19">hidro_diario</span><span class="rvts18">” é o nome do dado dinâmico que contém as informações de chuva e deve estar cadastrado no projeto.</span></p>
<p class="rvps99"><span class="rvts92"># Recupera valor do atributo do objeto</span></p>
<p class="rvps100"><span class="rvts91">var2 = </span><span class="rvts93">get_value</span><span class="rvts91">(</span><span class="rvts94">“limiar_critico”</span><span class="rvts91">)</span></p>
<p class="rvps9"><span class="rvts18">Essa linha define uma nova variável denominada de “</span><span class="rvts19">var2</span><span class="rvts18">” que será inicializada com o valor do atributo “</span><span class="rvts19">limiar_critico</span><span class="rvts18">” de cada objeto monitorado.</span></p>
<p class="rvps99"><span class="rvts92"># Compara valor máximo com atributo</span></p>
<p class="rvps100"><span class="rvts95">if</span><span class="rvts91"> &nbsp;var1 &nbsp;&lt; &nbsp;var2 :</span></p>
<p class="rvps9"><span class="rvts18">Na linha acima estamos comparando o valor da chuva acumulada obtida da grade com o limiar definido em um objeto em particular, que tem valor 80. Lembrando que a fonte de objeto monitorado pode ter vários objetos (polígonos) com limiares diferentes.</span></p>
<p class="rvps101"><span class="rvts91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nivel =0</span></p>
<p class="rvps102"><span class="rvts95">elif</span><span class="rvts91"> &nbsp;var1 &lt; var2 &nbsp;* 1.2:</span></p>
<p class="rvps102"><span class="rvts91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nível = 1</span></p>
<p class="rvps102"><span class="rvts95">else :</span></p>
<p class="rvps103"><span class="rvts91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nivel = 2</span></p>
<p class="rvps9"><span class="rvts18">Nas linhas a seguir estamos estabelecendo &nbsp;os níveis de alerta determinados &nbsp;pela comparação como um limiar pré-definido. Se o valor de chuva acumulada for menor do que o valor do limiar de chuva para esta área, vamos retornar o nível = 0. Seguindo as definições do exemplo, a seguir retornamos nível = 1 se a chuva acumulada superar o limite em menos de 20%, isto é o valor de 96 (= 80 x 1.2). Caso contrário o valor de nível = 2.</span></p>
<p class="rvps101"><span class="rvts92"># Adiciona valor a tabela</span></p>
<p class="rvps103"><span class="rvts96">add_value</span><span class="rvts91">(“nivel_risco”, nivel)</span></p>
<p class="rvps9"><span class="rvts18">Outro ponto importante a ser observado no exemplo, é a presença de comentários que não tem qualquer significado na execução do programa, apenas para fins de documentação. Use o sinal &nbsp;# &nbsp;para adicionar uma linha de comentário.</span></p>
<p class="rvps23"><span class="rvts22">A última linha do programa utiliza o comando “</span><span class="rvts38">add_value</span><span class="rvts22">” da plataforma para adicionar uma nova coluna na tabela “</span><span class="rvts38">tab_an_max</span><span class="rvts22">” e para armazenar o valor do nível. É obrigatório o uso desse operador pelo menos uma vez.</span></p>
<p class="rvps23"><span class="rvts6"><br/></span></p>
<div class="rvps106"><table width="756" border="0" cellpadding="4" cellspacing="0" style="border-width: 0px; border-spacing: 0px;">
<tr valign="top">
<td width="76" height="105" valign="top" style="padding: 0px 9px;"><p class="rvps2"><img width="69" height="69" alt="" style="padding : 1px;" src="lib/Logo_Python.png"></p>
</td>
<td width="644" height="105" valign="top" style="padding: 0px 9px;"><p class="rvps105"><span class="rvts22">Para uma maior compreensão da sintaxe da linguagem ou uso de opções avançadas, recomenda-se a leitura do </span><a class="rvts34" href="python.html">anexo A2</a><span class="rvts22">, a documentação disponível em português em </span><a class="rvts34" href="https://wiki.python.org.br">https://wiki.python.org.br</a><span class="rvts22"> ou site oficial em &nbsp;</span><a class="rvts40" href="https://www.python.org/">https://www.python.org/</a><span class="rvts41"> .</span></p>
</td>
</tr>
</table>
</div>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps23"><span class="rvts11"><br/></span></p>
<p></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2018 by INPE. All Rights Reserved.</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="vendors/jquery-1.11.3/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.3.6/js/bootstrap.min.js"></script>
  <script src="vendors/fastclick-1.0.6/fastclick.min.js"></script>
  <script src="vendors/markjs-8.8.3/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.18.9/uri.min.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="vendors/bootstrap-3.3.6/js/ie10-viewport-bug-workaround.js"></script>
  
  <!-- Headroom -->
  <script src="vendors/headroom-0.9.3/headroom.min.js"></script>
  <script src="vendors/headroom-0.9.3/jquery.headroom.min.js"></script>

  <!-- JsTree -->
  <script src="vendors/jstree-3.3.2/jstree.min.js"></script>

  <!-- HelpNDoc scripts -->
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Scripts -->
  <script>
    $(function() {
      // Instanciate FastClick
      Origami.fastclick(document.body);
      // Create the app
      var app = new Hnd.App();
      // Update translations
      hnd_ut(app);
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

